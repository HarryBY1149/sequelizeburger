<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Friend Finder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" media="screen" href="./public/main.css" />

</head>

<body>
    <div class="row mt-auto">
        <div class="jumbotron col-11 mx-auto text-center">
            <h1>Friend Finder!</h1>
            <div class="row">
                <div class="col-10-md mx-auto text-center">
                    <form>
                        <div class="form-group">
                            <label for="name">Name</label>
                            <input type="text" class="form-control" id="name" placeholder="Enter your name">
                        </div>
                        <div class="form-group">
                            <label for="photo">Please provide a photo Url</label>
                            <input type="text" class="form-control" id="photo" aria-describedby="emailHelp" placeholder="Photo Url">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="survey-container col-11 mx-auto">
        <div class="row">
            <div class="col-10-md mx-auto text-center">

                <h5>How much do you love dogs, 1 being the least?</h5>
                <form class="question">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q1v1" value="1">
                        <label class="form-check-label" for="q1v1">1</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q1v2" value="2">
                        <label class="form-check-label" for="q1v2">2</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q1v3" value="3">
                        <label class="form-check-label" for="q1v3">3</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q1v4" value="4">
                        <label class="form-check-label" for="q1v4">4</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q1v5" value="5">
                        <label class="form-check-label" for="q1v5">5</label>
                    </div>
                </form>
            </div>
        </div>

        <div class="row">
            <div class="col-10-md mx-auto text-center">

                <h5>How much do you like action movies, 1 being the least?</h5>
                <form class="question">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q2v1" value="1">
                        <label class="form-check-label" for="q2v1">1</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q2v2" value="2">
                        <label class="form-check-label" for="q2v2">2</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q2v3" value="3">
                        <label class="form-check-label" for="q2v3">3</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q2v4" value="4">
                        <label class="form-check-label" for="q2v4">4</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q2v5" value="5">
                        <label class="form-check-label" for="q2v5">5</label>
                    </div>
                </form>
            </div>
        </div>

        <div class="row">
            <div class="col-10-md mx-auto text-center">

                <h5>How much do you love long walks on the beach, 1 being the least?</h5>
                <form class="question">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q3v1" value="1">
                        <label class="form-check-label" for="q3v1">1</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q3v2" value="2">
                        <label class="form-check-label" for="q3v2">2</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q3v3" value="3">
                        <label class="form-check-label" for="q3v3">3</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q3v4" value="4">
                        <label class="form-check-label" for="q3v4">4</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q3v5" value="5">
                        <label class="form-check-label" for="q3v5">5</label>
                    </div>
                </form>
            </div>
        </div>

        <div class="row">
            <div class="col-10-md mx-auto text-center">

                <h5>How much do you enjoy going dancing, 1 being the least?</h5>
                <form class="question">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q4v1" value="1">
                        <label class="form-check-label" for="q4v1">1</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q4v2" value="2">
                        <label class="form-check-label" for="q4v2">2</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q4v3" value="3">
                        <label class="form-check-label" for="q4v3">3</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q4v4" value="4">
                        <label class="form-check-label" for="q4v4">4</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q4v5" value="5">
                        <label class="form-check-label" for="q4v5">5</label>
                    </div>
                </form>
            </div>
        </div>
        <div class="row">
            <div class="col-10-md mx-auto text-center">

                <h5>How much do you enjoy watching sports, 1 being the least?</h5>
                <form class="question">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q5v1" value="1">
                        <label class="form-check-label" for="q5v1">1</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q5v2" value="2">
                        <label class="form-check-label" for="q5v2">2</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q5v3" value="3">
                        <label class="form-check-label" for="q5v3">3</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q5v4" value="4">
                        <label class="form-check-label" for="q5v4">4</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q5v5" value="5">
                        <label class="form-check-label" for="q5v5">5</label>
                    </div>
                </form>
            </div>
        </div>
        <div class="row">
            <div class="col-10-md mx-auto text-center">

                <h5>How often do you netflix binge, 1 being the least?</h5>
                <form class="question">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q6v1" value="1">
                        <label class="form-check-label" for="q6v1">1</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q6v2" value="2">
                        <label class="form-check-label" for="q6v2">2</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q6v3" value="3">
                        <label class="form-check-label" for="q6v3">3</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q6v4" value="4">
                        <label class="form-check-label" for="q6v4">4</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q6v5" value="5">
                        <label class="form-check-label" for="q6v5">5</label>
                    </div>
                </form>
            </div>
        </div>

        <div class="row">
            <div class="col-10-md mx-auto text-center">

                <h5>How much do you like board games , 1 being the least?</h5>
                <form class="question">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q7v1" value="1">
                        <label class="form-check-label" for="q7v1">1</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q7v2" value="2">
                        <label class="form-check-label" for="q7v2">2</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q7v3" value="3">
                        <label class="form-check-label" for="q7v3">3</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q7v4" value="4">
                        <label class="form-check-label" for="q7v4">4</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q7v5" value="5">
                        <label class="form-check-label" for="q7v5">5</label>
                    </div>
                </form>
            </div>
        </div>

        <div class="row">
            <div class="col-10-md mx-auto text-center">

                <h5>What was your preferred subject in school?</h5>
                <form class="question">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q8v1" value="1">
                        <label class="form-check-label" for="q8v1">Math</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q8v2" value="2">
                        <label class="form-check-label" for="q8v2">Computer Science</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q8v3" value="3">
                        <label class="form-check-label" for="q8v3">Social Studies</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q8v4" value="4">
                        <label class="form-check-label" for="q8v4">Gym</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q8v5" value="5">
                        <label class="form-check-label" for="q8v5">Biology</label>
                    </div>
                </form>
            </div>
        </div>

        <div class="row">
            <div class="col-10-md mx-auto text-center">

                <h5>On a scale of 1 to 5, how much do you like a drink?</h5>
                <form class="question">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q9v1" value="1">
                        <label class="form-check-label" for="q9v1">1</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q9v2" value="2">
                        <label class="form-check-label" for="q9v2">2</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q9v3" value="3">
                        <label class="form-check-label" for="q9v3">3</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q9v4" value="4">
                        <label class="form-check-label" for="q9v4">4</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q9v5" value="5">
                        <label class="form-check-label" for="q9v5">5</label>
                    </div>
                </form>
            </div>
        </div>

        <div class="row">
            <div class="col-10-md mx-auto text-center">

                <h5>On a scale of 1 to 5, how would you rate your volleyball skills?</h5>
                <form class="question">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q10v1" value="1">
                        <label class="form-check-label" for="q10v1">1</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q10v2" value="2">
                        <label class="form-check-label" for="q10v2">2</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q10v3" value="3">
                        <label class="form-check-label" for="q10v3">3</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q10v4" value="4">
                        <label class="form-check-label" for="q10v4">4</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="answer" id="q10v5" value="5">
                        <label class="form-check-label" for="q10v5">5</label>
                    </div>
                </form>
            </div>
        </div>
        <div class="row mx-auto text-center">
            <button type="submit" class="btn btn-primary-lg submit" id="submit">Submit!</button>
        </div>
    </div>
    <div class="modal fade" id="matchDisplay" role="dialog">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="title">Best Match!</h5>
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h2 id="nameDisplay"></h2>
                    <img id="photoDisplay" src=""/>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
    <script src="../../server.js"></script>
    <script type="text/javascript">
        $("#submit").on("click", function (event) {
            event.preventDefault();
            var name = $("#name").val().trim();
            var photo = $("#photo").val().trim();
            var scores = [];
            $(".question").each(function () {
                var answer = $("input[name='answer']:checked", $(this)).val();
                if (answer !== undefined) {
                    scores.push(answer);
                }
            });
            var newFriend = {
                name: name,
                photo: photo,
                scores: scores
            };
            $.post("/api/friends", newFriend, function(data) {
                console.log(data);
                $("#nameDisplay").text(data.name);
                $("#photoDisplay").attr("src", data.photo);
                $("#matchDisplay").modal("toggle");
            });
        });
    </script>
</body>